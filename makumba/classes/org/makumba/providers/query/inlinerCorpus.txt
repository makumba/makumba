# each non-inlined query is followed by its inlined version(s), after -> 
SELECT x AS col1 FROM projman.User x WHERE x.actor($user) 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman User ) x ) ) ( SELECT ( AS x col1 ) ) ) ( WHERE ( = ( . x username ) $user ) ) )
select actor(projman.User) from projman.User mak_actor 
-> ( query ( SELECT_FROM ( from ( RANGE ( . projman User ) mak_actor ) ) ( select $actor_projman_User ) ) )
SELECT m.id AS col1,m.TS_create AS col2,it.project.id AS col3,it.subject AS col4 FROM projman.Message m JOIN m.item it WHERE it.unread() AND m.canRead() AND it.project=:project ORDER BY m.TS_create desc 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ) ( SELECT ( AS ( . m id ) col1 ) ( AS ( . m TS_create ) col2 ) ( AS ( . ( . it project ) id ) col3 ) ( AS ( . it subject ) col4 ) ) ) ( WHERE ( AND ( AND ( not ( exists ( query ( SELECT_FROM ( FROM ( RANGE ( . it events ) e ) ) ) ( WHERE ( AND ( = ( . e who ) $actor_projman_Principal ) ( in ( . e type ) ( inList 0 2 3 ) ) ) ) ) ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ( = ( . it project ) ( : project ) ) ) ) ( ORDER ( . m TS_create ) desc ) )
SELECT x AS col1 FROM projman.Principal x WHERE x.actor() 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Principal ) x ) ( RANGE ( . projman User ) actor_projman_User ) ) ( SELECT ( AS x col1 ) ) ) ( WHERE ( AND ( = actor_projman_User $actor_projman_User ) ( = ( . actor_projman_User principal ) x ) ) ) )
SELECT it AS col1 FROM projman.Message m JOIN m.item it WHERE m.item.project=:project AND  it.unread() AND m.canRead() 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ) ( SELECT ( AS it col1 ) ) ) ( WHERE ( AND ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( not ( exists ( query ( SELECT_FROM ( FROM ( RANGE ( . it events ) e ) ) ) ( WHERE ( AND ( = ( . e who ) $actor_projman_Principal ) ( in ( . e type ) ( inList 0 2 3 ) ) ) ) ) ) ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) )
SELECT it AS col1,m.id AS col2,m.TS_create AS col3,m.item.creator.displayName AS col4,m.item.subject AS col5,m.item.description AS col6 FROM projman.Message m JOIN m.item it WHERE m.item.project=:project AND  it.unread() AND m.canRead() ORDER BY m.TS_create desc 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ) ( SELECT ( AS it col1 ) ( AS ( . m id ) col2 ) ( AS ( . m TS_create ) col3 ) ( AS ( . ( . ( . m item ) creator ) displayName ) col4 ) ( AS ( . ( . m item ) subject ) col5 ) ( AS ( . ( . m item ) description ) col6 ) ) ) ( WHERE ( AND ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( not ( exists ( query ( SELECT_FROM ( FROM ( RANGE ( . it events ) e ) ) ) ( WHERE ( AND ( = ( . e who ) $actor_projman_Principal ) ( in ( . e type ) ( inList 0 2 3 ) ) ) ) ) ) ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) ( ORDER ( . m TS_create ) desc ) )
SELECT it AS col1 FROM projman.Message m JOIN m.item it WHERE m.item.project=:project AND  it.unread() AND m.canRead() 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ) ( SELECT ( AS it col1 ) ) ) ( WHERE ( AND ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( not ( exists ( query ( SELECT_FROM ( FROM ( RANGE ( . it events ) e ) ) ) ( WHERE ( AND ( = ( . e who ) $actor_projman_Principal ) ( in ( . e type ) ( inList 0 2 3 ) ) ) ) ) ) ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) )
SELECT it AS col1,m.id AS col2,m.TS_create AS col3,m.item.creator.displayName AS col4,m.item.subject AS col5,m.item.description AS col6 FROM projman.Message m JOIN m.item it WHERE m.item.project=:project AND  it.unread() AND m.canRead() ORDER BY m.TS_create desc 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ) ( SELECT ( AS it col1 ) ( AS ( . m id ) col2 ) ( AS ( . m TS_create ) col3 ) ( AS ( . ( . ( . m item ) creator ) displayName ) col4 ) ( AS ( . ( . m item ) subject ) col5 ) ( AS ( . ( . m item ) description ) col6 ) ) ) ( WHERE ( AND ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( not ( exists ( query ( SELECT_FROM ( FROM ( RANGE ( . it events ) e ) ) ) ( WHERE ( AND ( = ( . e who ) $actor_projman_Principal ) ( in ( . e type ) ( inList 0 2 3 ) ) ) ) ) ) ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) ( ORDER ( . m TS_create ) desc ) )
SELECT it AS col1 FROM projman.Message m JOIN m.item it WHERE m.item.project=:project AND  m.canRead() 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ) ( SELECT ( AS it col1 ) ) ) ( WHERE ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) )
SELECT it AS col1,m.id AS col2,m.TS_create AS col3,m.item.creator.displayName AS col4,m.item.subject AS col5,m.item.description AS col6 FROM projman.Message m JOIN m.item it WHERE m.item.project=:project AND  m.canRead() ORDER BY m.TS_create desc 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ) ( SELECT ( AS it col1 ) ( AS ( . m id ) col2 ) ( AS ( . m TS_create ) col3 ) ( AS ( . ( . ( . m item ) creator ) displayName ) col4 ) ( AS ( . ( . m item ) subject ) col5 ) ( AS ( . ( . m item ) description ) col6 ) ) ) ( WHERE ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) ( ORDER ( . m TS_create ) desc ) )
SELECT it AS col1,ev.type AS col2 FROM projman.Message m JOIN m.item it JOIN m.item.events ev WHERE (m.item.project=:project AND  m.canRead()) AND (ev.who=:principal) 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ( JOIN ( . ( . m item ) events ) ev ) ) ( SELECT ( AS it col1 ) ( AS ( . ev type ) col2 ) ) ) ( WHERE ( AND ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ( = ( . ev who ) ( : principal ) ) ) ) )
SELECT it AS col1,w.displayName AS col2 FROM projman.Message m JOIN m.item it JOIN m.item.toWhom w WHERE m.item.project=:project AND  m.canRead() 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ( JOIN ( . ( . m item ) toWhom ) w ) ) ( SELECT ( AS it col1 ) ( AS ( . w displayName ) col2 ) ) ) ( WHERE ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) )
SELECT it AS col1,wcc.displayName AS col2 FROM projman.Message m JOIN m.item it JOIN m.cc wcc WHERE m.item.project=:project AND  m.canRead() 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ( JOIN ( . m cc ) wcc ) ) ( SELECT ( AS it col1 ) ( AS ( . wcc displayName ) col2 ) ) ) ( WHERE ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) )
SELECT it AS col1,d.content.name AS col2,d.id AS col3 FROM projman.Message m JOIN m.item it JOIN m.item.attachments d WHERE m.item.project=:project AND  m.canRead() 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ( JOIN ( . ( . m item ) attachments ) d ) ) ( SELECT ( AS it col1 ) ( AS ( . ( . d content ) name ) col2 ) ( AS ( . d id ) col3 ) ) ) ( WHERE ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) )
SELECT it AS col1 FROM projman.Message m JOIN m.item it WHERE m.item.project=:project AND  it.unread() AND m.canRead() 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ) ( SELECT ( AS it col1 ) ) ) ( WHERE ( AND ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( not ( exists ( query ( SELECT_FROM ( FROM ( RANGE ( . it events ) e ) ) ) ( WHERE ( AND ( = ( . e who ) $actor_projman_Principal ) ( in ( . e type ) ( inList 0 2 3 ) ) ) ) ) ) ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) )
SELECT it AS col1,m.id AS col2,m.TS_create AS col3,m.item.creator.displayName AS col4,m.item.subject AS col5,m.item.description AS col6 FROM projman.Message m JOIN m.item it WHERE m.item.project=:project AND  it.unread() AND m.canRead() ORDER BY m.TS_create desc 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ) ( SELECT ( AS it col1 ) ( AS ( . m id ) col2 ) ( AS ( . m TS_create ) col3 ) ( AS ( . ( . ( . m item ) creator ) displayName ) col4 ) ( AS ( . ( . m item ) subject ) col5 ) ( AS ( . ( . m item ) description ) col6 ) ) ) ( WHERE ( AND ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( not ( exists ( query ( SELECT_FROM ( FROM ( RANGE ( . it events ) e ) ) ) ( WHERE ( AND ( = ( . e who ) $actor_projman_Principal ) ( in ( . e type ) ( inList 0 2 3 ) ) ) ) ) ) ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) ( ORDER ( . m TS_create ) desc ) )
SELECT it AS col1 FROM projman.Message m JOIN m.item it WHERE m.item.project=:project AND  m.canRead() 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ) ( SELECT ( AS it col1 ) ) ) ( WHERE ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) )
SELECT it AS col1,m.id AS col2,m.TS_create AS col3,m.item.creator.displayName AS col4,m.item.subject AS col5,m.item.description AS col6 FROM projman.Message m JOIN m.item it WHERE m.item.project=:project AND  m.canRead() ORDER BY m.TS_create desc 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ) ( SELECT ( AS it col1 ) ( AS ( . m id ) col2 ) ( AS ( . m TS_create ) col3 ) ( AS ( . ( . ( . m item ) creator ) displayName ) col4 ) ( AS ( . ( . m item ) subject ) col5 ) ( AS ( . ( . m item ) description ) col6 ) ) ) ( WHERE ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) ( ORDER ( . m TS_create ) desc ) )
SELECT it AS col1,ev.type AS col2 FROM projman.Message m JOIN m.item it JOIN m.item.events ev WHERE (m.item.project=:project AND  m.canRead()) AND (ev.who=:principal) 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ( JOIN ( . ( . m item ) events ) ev ) ) ( SELECT ( AS it col1 ) ( AS ( . ev type ) col2 ) ) ) ( WHERE ( AND ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ( = ( . ev who ) ( : principal ) ) ) ) )
SELECT it AS col1,w.displayName AS col2 FROM projman.Message m JOIN m.item it JOIN m.item.toWhom w WHERE m.item.project=:project AND  m.canRead() 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ( JOIN ( . ( . m item ) toWhom ) w ) ) ( SELECT ( AS it col1 ) ( AS ( . w displayName ) col2 ) ) ) ( WHERE ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) )
SELECT it AS col1,wcc.displayName AS col2 FROM projman.Message m JOIN m.item it JOIN m.cc wcc WHERE m.item.project=:project AND  m.canRead() 
-> ( query ( SELECT_FROM ( FROM ( RANGE ( . projman Message ) m ) ( JOIN ( . m item ) it ) ( JOIN ( . m cc ) wcc ) ) ( SELECT ( AS it col1 ) ( AS ( . wcc displayName ) col2 ) ) ) ( WHERE ( AND ( = ( . ( . m item ) project ) ( : project ) ) ( OR ( = ( . ( . m item ) creator ) $actor_projman_Principal ) ( OR ( in $actor_projman_Principal ( inList ( elements ( . ( . m item ) toWhom ) ) ) ) ( in $actor_projman_Principal ( inList ( elements ( . m cc ) ) ) ) ) ) ) ) )
