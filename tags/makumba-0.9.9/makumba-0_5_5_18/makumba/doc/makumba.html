<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 9">
<meta name=Originator content="Microsoft Word 9">
<link rel=File-List href="./makumba_files/filelist.xml">
<link rel=Edit-Time-Data href="./makumba_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Makumba design issues</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Cristian Bogdan</o:Author>
  <o:LastAuthor>Cristian Bogdan</o:LastAuthor>
  <o:Revision>82</o:Revision>
  <o:TotalTime>1354</o:TotalTime>
  <o:LastPrinted>2000-12-19T14:51:00Z</o:LastPrinted>
  <o:Created>2000-12-16T12:40:00Z</o:Created>
  <o:LastSaved>2000-12-19T15:35:00Z</o:LastSaved>
  <o:Pages>30</o:Pages>
  <o:Words>8298</o:Words>
  <o:Characters>47301</o:Characters>
  <o:Company>NADA/KTH</o:Company>
  <o:Lines>394</o:Lines>
  <o:Paragraphs>94</o:Paragraphs>
  <o:CharactersWithSpaces>58088</o:CharactersWithSpaces>
  <o:Version>9.3821</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:View>MasterPages</w:View>
  <w:ActiveWritingStyle Lang="EN-GB" VendorID="64" DLLVersion="131077"
   NLCheck="1">1</w:ActiveWritingStyle>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:Arial;
	mso-font-kerning:16.0pt;
	font-weight:bold;}
h2
	{margin-right:0cm;
	mso-margin-top-alt:auto;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	mso-outline-level:2;
	font-size:18.0pt;
	font-family:"Times New Roman";
	font-weight:bold;}
h3
	{margin-right:0cm;
	mso-margin-top-alt:auto;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	mso-outline-level:3;
	font-size:13.5pt;
	font-family:"Times New Roman";
	font-weight:bold;}
h4
	{margin-right:0cm;
	mso-margin-top-alt:auto;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	mso-outline-level:4;
	font-size:12.0pt;
	font-family:"Times New Roman";
	font-weight:bold;}
h5
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	mso-outline-level:5;
	font-size:13.0pt;
	font-family:"Times New Roman";
	font-weight:bold;
	font-style:italic;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin-right:36.0pt;
	mso-margin-top-alt:auto;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
p
	{margin-right:0cm;
	mso-margin-top-alt:auto;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
pre
	{margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Courier New";}
tt
	{mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Courier New";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
p.Heading3code, li.Heading3code, div.Heading3code
	{mso-style-name:"Heading 3 \(code\)";
	mso-style-parent:"Heading 3";
	margin-right:0cm;
	mso-margin-top-alt:auto;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	mso-outline-level:3;
	font-size:12.0pt;
	mso-bidi-font-size:13.5pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:35.4pt;
	mso-footer-margin:35.4pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
@list l0
	{mso-list-id:53236316;
	mso-list-type:hybrid;
	mso-list-template-ids:-1274918094 208695948 -187509268 1428950074 2117492228 1394787688 -1169927418 -2025396248 1123434060 2035459310;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1
	{mso-list-id:151869538;
	mso-list-type:hybrid;
	mso-list-template-ids:-902122192 -1745704200 1520990766 -1090226964 651878898 -1981908734 -1133075462 857005894 914288236 1493755584;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l2
	{mso-list-id:234122331;
	mso-list-type:hybrid;
	mso-list-template-ids:1053820644 -687433346 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l2:level1
	{mso-level-start-at:0;
	mso-level-number-format:bullet;
	mso-level-text:-;
	mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	margin-left:72.0pt;
	text-indent:-18.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
@list l3
	{mso-list-id:250510048;
	mso-list-type:hybrid;
	mso-list-template-ids:-2011805890 -1476746212 1267367232 1573939348 1820481640 -115671612 141859428 1897799798 -786268228 -804066694;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l4
	{mso-list-id:304353945;
	mso-list-type:hybrid;
	mso-list-template-ids:1414582720 -687433346 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l4:level1
	{mso-level-start-at:0;
	mso-level-number-format:bullet;
	mso-level-text:-;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
@list l5
	{mso-list-id:390882928;
	mso-list-type:hybrid;
	mso-list-template-ids:-841218436 -687433346 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l5:level1
	{mso-level-start-at:4;
	mso-level-number-format:bullet;
	mso-level-text:-;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
@list l6
	{mso-list-id:400953896;
	mso-list-type:hybrid;
	mso-list-template-ids:-1840054384 -830201914 1444052956 -1445047642 -35346232 1816699856 -138631670 1867174572 -929112976 1029079348;}
@list l6:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l7
	{mso-list-id:608009609;
	mso-list-type:hybrid;
	mso-list-template-ids:-2117567926 -13306416 -1302591688 1757181474 -1893408226 563776750 113510794 890541296 642798996 1810132578;}
@list l7:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l8
	{mso-list-id:662899889;
	mso-list-type:hybrid;
	mso-list-template-ids:290110592 -687433346 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l8:level1
	{mso-level-start-at:0;
	mso-level-number-format:bullet;
	mso-level-text:-;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
@list l9
	{mso-list-id:737098862;
	mso-list-type:hybrid;
	mso-list-template-ids:-203237812 -1695669106 -1136477886 -1464857766 -1167299162 356410048 -1235311978 -517993340 -1672323900 499553018;}
@list l9:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l9:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l10
	{mso-list-id:843711182;
	mso-list-type:hybrid;
	mso-list-template-ids:-1612650452 1667530228 -1900506282 -1003727978 368591984 -486523436 1719323222 -1111334098 2063528556 -1339376354;}
@list l10:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l11
	{mso-list-id:944730322;
	mso-list-type:hybrid;
	mso-list-template-ids:-582681274 67698695 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l11:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F071;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:8.0pt;
	font-family:Wingdings;}
@list l11:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l11:level3
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	font-family:Wingdings;}
@list l11:level4
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	font-family:Symbol;}
@list l11:level5
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l12
	{mso-list-id:1395809262;
	mso-list-type:hybrid;
	mso-list-template-ids:-342607342 -687433346 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l12:level1
	{mso-level-start-at:0;
	mso-level-number-format:bullet;
	mso-level-text:-;
	mso-level-tab-stop:54.0pt;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:-18.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
@list l13
	{mso-list-id:1527601156;
	mso-list-type:hybrid;
	mso-list-template-ids:-995953708 -1838279386 67698695 -100777684 -1693282578 -908139298 -1300583978 370284346 1385603878 2139381314;}
@list l13:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l13:level2
	{mso-level-number-format:bullet;
	mso-level-text:\F071;
	mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:8.0pt;
	font-family:Wingdings;}
@list l14
	{mso-list-id:1811901796;
	mso-list-type:hybrid;
	mso-list-template-ids:-1539554102 -687433346 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l14:level1
	{mso-level-start-at:0;
	mso-level-number-format:bullet;
	mso-level-text:-;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
@list l15
	{mso-list-id:1949658815;
	mso-list-type:hybrid;
	mso-list-template-ids:-1274611288 67698695 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l15:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F071;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:8.0pt;
	font-family:Wingdings;}
@list l16
	{mso-list-id:1954897542;
	mso-list-type:hybrid;
	mso-list-template-ids:799970064 1511574948 -920227014 -395022036 896182170 1618796950 -203235320 997096082 -1665910418 -1207385754;}
@list l16:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l17
	{mso-list-id:1976717139;
	mso-list-type:hybrid;
	mso-list-template-ids:-672789062 366794660 1664758774 -1367288648 724573850 1468948066 919234872 -336671288 -230526748 1665976358;}
@list l17:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l17:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l17:level3
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Wingdings;}
@list l17:level4
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Wingdings;}
@list l18
	{mso-list-id:1981688769;
	mso-list-type:hybrid;
	mso-list-template-ids:-2141556832 67698695 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l18:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F071;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:8.0pt;
	font-family:Wingdings;}
@list l17:level4 lfo50
	{mso-level-number-format:arabic;
	mso-level-numbering:continue;
	mso-level-text:"%4\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	font-family:Wingdings;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<meta name=Author content="Stefan Baebler">
</head>

<body lang=EN-GB link=blue vlink=blue style='tab-interval:36.0pt'>

<div class=Section1>

<h1>Makumba</h1>

<p class=MsoNormal>versão $Revision$, November 2000, in Stockholm </p>

<p>This document continuously presents the state of the Makumba project. It is
intended for Makumba designers and implementors. The idea is to keep all
knowledge about Makumba in one place and not to have it spread in all sorts of
files. The spec will be maintained in parallel. As different from spec, this
document also includes past ideas and future visions. </p>

<p>The only information that is not in this document are the introdutory text,
the <a href="makumba-spec.html">spec</a>,&nbsp;<a
href="api\API_users_guide.html"> the API documentation</a>, the <a
href="tasks.html">tasks</a>, and the <a href="SQL-drivers.html">supported
databases documentation</a>. (need linked summary at the beginning and
number-indepedent A NAMEs. automatic section numbering seems impossible in
Composer) </p>

<h1>1.&nbsp;<a name="Principles/philosophy"></a>Principles/philosophy</h1>

<p class=MsoNormal>(see <a href="#Makumba philosophy">Cristi's Philosophy mail</a>)
<br>
pre-packaged BEST features are very different from professional <br>
- no fine-grained control of all details <br>
- a feature is available on the most generic sense with no concern for speed or
space <br>
- few features are available, only the essentials <br>
- makes it easy to learn and develop <br>
- not simple-to-complex learning because an advanced user might use complex
features that a novice won't understand </p>

<p>non-professional <br>
- total control <br>
- feeling of independence <br>
- no general purpose (taught in school) commercial technology exists for <br>
data-driven web apps (hack over database systems to get to the web or vice
versa) </p>

<p>next (visionary) system will come by design refactoring of the present one <br>
&nbsp; </p>

<h1>2. Professional Data-driven Web technologies</h1>

<h2>2.1&nbsp;<a name=Lasso></a>Lasso (<a href="http://www.blueworld.com">blueworld.com</a>),
its LDML language</h2>

<p class=MsoNormal>we didn't manage to run Lasso server on the laptop, but we
could look at language examples <br>
LDML looks very much like what we want for Makumba <br>
observations learned from Lasso: <br>
- one can have more than one presentation language <br>
- any language can have an XML description (whatever the use) <br>
- html editors can be used to edit a good language, and if the tags are like
&lt;..&gt; the html editors will not rewrite them (see difference between LDML
and object LDML <br>
- LDML is very much programming (rather than presentation) oriented <br>
- too many tags <br>
- nice simple logging mechanism, but it shouldn't be at presentation layer, or
should it? <br>
- lasso seems to be a one-table search thing <br>
- but this is not a problem since you can have views for each join you can
think of </p>

<h2>2.2&nbsp;<a name=CFML></a>CFML (Cold Fusion Markup Language, <a
href="http://www.allaire.com">allaire.com</a>)</h2>

<p class=MsoNormal>- SQL dialect dependent <br>
- but more search power <br>
- named queries look interesting <br>
&nbsp; </p>

<h2>2.3&nbsp;<a name=Webmacro></a>Webmacro (<a href="http://www.webmacro.org">webmacro.org</a>)</h2>

<p class=MsoNormal>Looks like <a
href="http://best.nada.kth.se:8080/jml/jml.cgi/index.jml">JML</a>/<a
href="http://java.sun.com/products/jsp">JSP</a>. Just a different syntax and
probably different compilation and error messages. But that doesn't make it
much better. </p>

<h2>2.4 General observations</h2>

<p class=MsoNormal>both <a href="#CFML">CFML</a> and <a href="#Lasso">LDML</a>
miss the generation of the default presentation because they don't describe the
data anywhere. </p>

<p>an improvement of CFML and LDML over stuff like <a href="http://www.php.net">PHP</a>
or JSP is that there is better integration with the database and less db
connection installation overhead </p>

<p>both have server-side includes </p>

<p><a name=Tango></a>Tango (<a href="http://www.pervasive.com">pervasive.com</a>)
is a dead product but it makes a nice distinction (presentation, data model and
business logic) </p>

<h1>3. Trainee orientation</h1>

<p class=MsoNormal>Makumba should be oriented in helping trainees to learn it
fast, install it easily and start coding with as few problems as possible <br>
- removing installation overhead <br>
- tomcat, jdk, database engine, etc., should be pre installed and packaged <br>
- <a href="http://www.mysql.org">MySQL</a> as database for windows <br>
- CD or zip with the pre installation and example data (e.g. complete general
tables) <br>
- CVS as overhead during trainee startup (then very useful) <br>
- we don't necessarily want/have the skills from open-source. Not all trainees
need help there, but it's a good diversification of opportunity. </p>

<p>Igor case: hindrances of the BEST development environment <br>
- a lot of good will <br>
- poor connection <br>
- different locations, slow email communication <br>
- not yet enough experience <br>
- initially a victory (odbc4 driver) <br>
- when the new problem came in (message board), local devel stopped </p>

<p>Student organisation identification with an ideal <br>
- professional software devel (the spec document, framework that was promising
to comply with changes in spec, etc) <br>
- open source (Makumba), no release yet because of prestige. Not all of us have
to be open source programmers. Some trainees will only get to do Makumba code
development and maintenance, some others will get to work on spec and internals
in the open-source process. </p>

<p>(kosice) meeting preparation with hands-on examples (low overhead should
help this) </p>

<h1>4. Reflective&nbsp;<a name=history></a>history</h1>

<p class=MsoNormal>(this is working information for now, but might be later
&quot;demoted&quot; as an annex) </p>

<h2>4.1&nbsp;<a name=firstVersion></a>first version (March 1999)</h2>

<p class=MsoNormal>- abstract, DB and presentation data description <br>
- only had presentation implemented </p>

<h2>4.2 second version (Xalara in&nbsp;<a name=Athens1999></a>Athens July 1999)</h2>

<p class=MsoNormal>- re-organised directories in package like manner <br>
- some &quot;redundant&quot; features: templates, one-to-many and many-to-many
tables. redundant features complicate the language while they can actually be
implemented with the existing ones <br>
- we were still puzzled about search <br>
- we believed that there is a ideal presentation layer and we tried to find it <br>
- what we still like: general idea of record description, replication fields,
record title, pointer, set, general type correspondence, FIXED, NOTNULL <br>
- implemented the first version based on these ideas </p>

<h2>4.3&nbsp;<a name=afterAthens></a>after Athens</h2>

<p class=MsoNormal>- proposed searches in separate files. still not clear what
to do with arguments <br>
- still not clear how to select fields from the search <br>
- attempt a second presentation layer; quite cryptic. See Annex 1 <br>
- &quot;new database layer&quot; attempted to model all SQL SELECT concepts in
Java objects (Expression and Filter) <br>
- presentation toolkit and other upfront design OOP ideas, for generating any
kind of content, etc... <br>
- ODMG database layer proposed OODB-like principles for the API <br>
- JSP taglib-based presentation layer. See Annex 2 <br>
- OQL discussion - resulted in Autumn 2000 implementation of OQL <br>
&nbsp;we liked the join in the FROM. it &quot;moves&quot; the join from the
WHERE <br>
&nbsp;clause, which is mostly for filtering </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;
SELECT DISTINCT s FROM /best/student s, s.education e,e.studyfield st</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;
WHERE st.name=&quot;Chemestry&quot;</span></tt> </p>

<p>&nbsp;&nbsp;&nbsp;&nbsp; joins in the implicit relations? <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;
/best/minerva/student.minerva m(s)</span></tt> </p>

<h2>4.4 Lost in&nbsp;<a name=KosiceJuly2000></a>Kosice July 2000</h2>

<p class=MsoNormal>- attributes are kind of constraints <br>
- not table, but object-oriented <br>
- lists as a clear difference from sets <br>
- inheritance rather than inclusion <br>
- multilanguage suport in text literals <br>
- title is the first non_pointer field <br>
- clean up of syntax <br>
- business logic <br>
- actors <br>
- authentication mechanism <br>
- &quot;extension&quot; <br>
- administration mechanism <br>
- new field constraints UNIQUE, ENCRYPTED <br>
- minimum and maximum char length [a..b] </p>

<h2>4.5&nbsp;<a name=afterKosice2000></a>after Kosice (ML discussions)</h2>

<p class=MsoNormal>- if we define inline types, we don't have to think of
complex sets and 1:1 pointers anymore. this simplifies the language <br>
- Toto's Business Logic <a href="#Toto's BL sources after Kosice">sources</a>. <br>
- <span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New"'>fieldname:
int { default longhish_shit_that_is_not_comfortable_to_repeat, a, b, c } </span><br>
- now as default for date <br>
- interfaceLanguage in actor profile <br>
- %localize(lang1, lang2) at presentation level <br>
- dot instead of / in the class name. capital for type name as style rule. OQL
becomes: <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;
SELECT DISTINCT s FROM best.Student s, s.education e, e.studyfield st</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp; WHERE
st.name=&quot;Chemistry&quot;</span></tt> <br>
- data ecryption not one way <br>
- spec shouldn't talk about SQL, or specify that it is an example </p>

<h2>4.6&nbsp;<a name=Coimbra2000></a>Coimbra October 2000</h2>

<p class=MsoNormal>- tried to make sense of all stuff and set short-term and
long-term goals <br>
- see design issues below, plus annexes 4 and 5 <br>
- we ended in a frustrated note due to too short meeting time. But overal the
meeting was very productive. </p>

<h2>4.7&nbsp;<a name=AfterCoimbra2000></a>After Coimbra (Stockholm, ML
discussions, stuff done,...)</h2>

<p class=MsoNormal>- ODBC and mSQL (temporarily) not supported <br>
- Implemented OQL (with <a href="http://www.antlr.org">antlr</a>, fixed their
OQL grammar,&nbsp; submitted it, got no reply yet) <br>
- bought makumba.org domain name <br>
- made a database copy utility (a good ground for future replication, transfer
between different databases, different SQL servers, cleaning historical table
names) <br>
- moved some Toto's own methods (presumably most frequently used by a app
developer) to a prominent place (metadata.db.Database) for everybody to use <br>
- webmasters looking for alternatives (PHP, Perl, Apache server side
includes...) </p>

<h2>4.8&nbsp;<a name=Balatonföldvar></a>Balatonföldvar November 2000</h2>

<p class=MsoNormal>- subselects in MySQL not fully supported <br>
- realised that database-level indexing improves performance significantly <br>
- made OQL work in minerva student search <br>
- compiled and packaged a set of programs (17 megs) needed to run an
application (in this case Minerva, working on a non-programers' laptop) No need
to set any PATH or CLASSPATH. Only needed change might be to enlarge the memory
of the command.com but we can provide proactive assistance for that <br>
- confronted webmasters with jsp --&gt; enthusiasm! <br>
- made BEST realize of Makumba's importance to the organisation / raised the
interest by introducing Karamba! <br>
- markeTeam takes over the PR campaign- promotion of Makumba as&nbsp; an open
source project <br>
- eliminated 'dot convention' - no more dots in table names </p>

<h2>4.9&nbsp;<a name=AfterBalaton></a>After Balatonföldvar</h2>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l5 level1 lfo2;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>eliminated the need to manually translate names of fields and
tables to avoid conflicts with SQL keywords on some database engines (perticularly
mySql is very sensitive, postgres more tollerant) <br>
- added a feature to shorten table names (Postgres has limit to 32 characters,
MySql no problems) <br>
- documentation clean-up <br>
- updating this doc, API spec </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l5 level1 lfo2;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>found a nice model for Rapid Application Development</p>

<h2>4.10&nbsp;<a name=Rome2000></a>Rome December 2000</h2>

<p class=MsoNormal>- First test of a bigger application with the latest version
of Makumba. <br>
- Presentation to webmasters, they love it, we need to make them a distribution
for them to play with it. </p>

<h2>4.11&nbsp;<a name=AfterRome></a>After Rome</h2>

<p class=MsoNormal>- Writing the <a href="makumba-spec.html#Makumba JSP tags">Makumba
JSP tag specification</a>, finalizing the taglibs. <br>
- New Makumba DD language implementation postponed (and have it done later with
antlr) </p>

<h2>4.12&nbsp;<a name="Weekend_in_Stockholm"></a>Weekend in Stockholm, December
2000</h2>

<p class=MsoNormal>The objective was to get to the minimum powerful makumba to
be able to implement Karamba</p>

<p class=MsoNormal>Solved database config files</p>

<p class=MsoNormal>Decided to implement types in pointers</p>

<p class=MsoNormal>Replication when DD changes. What happens to the LBG copies?
How to detect DD and logical changes?</p>

<p class=MsoNormal>Dillemas about Archive and Document. We didn&#8217;t know how to
organize the DDs, and how to set the access rights.</p>

<p class=MsoNormal>Dillemas about static (database registered) and dynamic
(application dictated) access rights</p>

<p class=MsoNormal>Application template, components (maybe configurable by
webmaster), maybe new tags, skins around them</p>

<p class=MsoNormal>DD-parallel code, express there all we wanted to express in
the DD Business Language for now. Such classes will be called by the taglib
directly (no more JSP parallel code). If a class doesn&#8217;t exist, a default one
is used. If it exists, it is a sublcass of a powerful toolbox (refactored from
needs and experience) class that knows</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l18 level1 lfo4;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>rigts set (static, or by OQL)</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l18 level1 lfo4;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>decorated (pointer) field attribute</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l18 level1 lfo4;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>unique field attribute</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l18 level1 lfo4;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>!unique constraint OQL expression</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l18 level1 lfo4;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>computed fields</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l18 level1 lfo4;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>unique and notnull to implement directly in SQL</p>

<p class=MsoNormal>(cristi toilet) 3 tier application: servlet container,
DD-parallel code, database. Will improve development speed</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l11 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>JSP calls DD-parallel methods of the kind: &#8220;do(type,
operation, data) in the main tables</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l11 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>DD-parallel code calls methods of the same kind in the
tables and subtables, after security checks, etc.</p>

<p class=MsoNormal style='margin-left:18.0pt'>We realised that insertUnique
just comes from the unimplemented unique constraint</p>

<p class=MsoNormal style='margin-left:18.0pt'>We have a clear idea of what an
application is. Application come in bean-like components (maybe will be
implemented as java beans?)</p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:-18.0pt;mso-list:l12 level1 lfo8;
tab-stops:list 54.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>DDs, with a field that indicate which instance of the app do
we talk about (name)</p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:-18.0pt;mso-list:l12 level1 lfo8;
tab-stops:list 54.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>DD-parallel files, written in general</p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:-18.0pt;mso-list:l12 level1 lfo8;
tab-stops:list 54.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>JSPs, maybe with an argument</p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:-18.0pt;mso-list:l12 level1 lfo8;
tab-stops:list 54.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>Maybe a special tag, say <span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New"'>&lt;karamba:todolist
specificArguments../&gt;</span></p>

<h2>4.13 After Stockholm</h2>

<p class=MsoNormal>package name metadata &#8211;&gt; org.makumba</p>

<h1>5.&nbsp;<a name=DesignIssues></a>Design issues</h1>

<p class=MsoNormal>Issues are divided in current problems (5.1), short term
objectives (5.2) and long term guidelines (5.3). Every such timeframe is
divided in General principles, Data description, BEST (organisational/Business)
Logic (BL), Java API, Presentation and Development support. Development support
describes objectives for fast development and change by experts, trainees,
webmasters and normal users. </p>

<p>The new spec will be written by Stefan and comply to 5.1 and 5.2 <br>
The long term spec will be developped based on 5.3 </p>

<h2>5.1 Current problems</h2>

<h3>5.1.0 administrative stuff</h3>

<p class=MsoNormal>as a testbed for new taglibs and API we can use few pages
from minerva, see how it feels, what webmasters feel about it.</p>

<p class=MsoNormal>ANT distribution</p>

<h3>5.1.1 general principles</h3>

<p class=MsoNormal>get the business logic in DD-parallel code</p>

<p class=MsoNormal>finish makumba!!!</p>

<h3>5.1.2 Data description</h3>

<p class=MsoNormal>unique, unique constraints, <span style="mso-spacerun:
yes">&nbsp;</span>list, fixed, default values&#8230;</p>

<h3>5.1.3 BL (BEST/Business Logic)</h3>

<p class=MsoNormal>specify and implement DD-parallel code</p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:-18.0pt;mso-list:l12 level1 lfo8;
tab-stops:list 54.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>make use of strong context provided in the data description
files and in the presentation. Making use of context leads to less
initialization code, less installation overhead <br>
- API growth by pattern discovery. When typical features are identified, they
are included in the toolbox</p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:-18.0pt;mso-list:l12 level1 lfo8;
tab-stops:list 54.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>decoration will come by refactoring</p>

<h4>Actors, administration security models</h4>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>authentication: !auth=field_name. the class of the field has
to have at least one authenticate* method</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>shouldn't the authentication field be always UNIQUE, FIXED,
NOTNULL?<span style="mso-spacerun: yes">&nbsp; </span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>shouldn't !admin be a method, like !title and maybe other
commands... ?</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>an actor has an authentication mechanism or is a decoration of
it</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>authenticating the extension just needs to authenticate the
base <br>
!base=class_name</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>how to express in the language that 2 objects of different
classes have the same auth? </p>

<h3>5.1.4 Java API</h3>

<p class=MsoNormal>implement the Database config files with names like</p>

<p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>localhost_mysql_makumba</p>

<p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=SV style='mso-ansi-language:SV'>malaka.best.eu.org_pgsql_minerva2<o:p></o:p></span></p>

<p class=MsoNormal>table alteration for the whole DB</p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:18.0pt'>There is no way of setting a field to null. There should be
a Null value defined at the abstract level.</p>

<p class=MsoNormal>implement database catalog and full database copying</p>

<p class=MsoNormal style='margin-left:18.0pt'>subtables (ptrOne, set*) should
accept data in insert and return data in read. Data should be part of the
Dictionary for ptrOne and Enumeration for sets. This looks like it can be
written at the metadata.db.level </p>

<p class=MsoNormal>delete with deletion of internal sets and pointers...</p>

<p class=MsoNormal style='margin-left:54.0pt'>list, set, bag API</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>profiling of the code once everything is implemented</p>

<p class=MsoNormal>change /best/student -&gt; best.Student, relative:type from
the same package in reference and include</p>

<p>transaction</p>

<p>text type </p>

<p class=MsoNormal>notification services</p>

<p class=MsoNormal>DBSV autogeneration</p>

<p class=MsoNormal style='margin-left:36.0pt'>keep configuration in a special
table</p>

<p class=MsoNormal style='margin-left:36.0pt'>database copying starting from a
type</p>

<p>implement title as first non-pointer field</p>

<p>implement full-text search<span style="mso-spacerun: yes">&nbsp; </span></p>

<p class=MsoNormal>parse default values </p>

<p class=MsoNormal>implement LIST, FIXED, NOTNULL, UNIQUE</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p>Database bugs: </p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l13 level1 lfo15;tab-stops:list 36.0pt'>some db engines return
     Float at getObject when they read ints... Should be a cast to Number
     (rather then Integer), then a intValue()</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l13 level1 lfo15;tab-stops:list 36.0pt'>msql.Database does not
     create a connection pool, which will make concurrent accesses fail</li>
</ul>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>Other db problems <br>
- find other Windows development DB engine (recompile Postgres with cygwin32 ?)
<br style='mso-special-character:line-break'>
<![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
<![endif]></p>

<p class=MsoNormal>metadata.abstr.printer.subtablePrinter prints the
description after all the fields of the subtable. should be before </p>

<h3>5.1.5 Presentation</h3>

<p class=MsoNormal>finish taglib</p>

<h3>5.1.6 support for development</h3>

<p class=MsoNormal>implement RAD interface development</p>

<p class=MsoNormal>existing: support for pre-Makumba existing tables: changes
of table and field names. nice stuff </p>

<h2>5.2 Short term</h2>

<h3>5.2.1 General principles</h3>

<p class=MsoNormal>- the present Makumba code can be kept (taglibs, tables and
searches can coexist or be based on it) <br>
- maybe logging </p>

<h3>5.2.2 Data description</h3>

<h4>extension, include?</h4>

<p style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>non-pointer inclusion of types</p>

<h4>DD<span style='font-weight:normal'> </span>language</h4>

<p style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l4 level1 lfo17;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>- a well-formatted metadata file should somehow mention its
name for easy citation </p>

<p style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l4 level1 lfo17;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>classes rather than tables. objects rather than table records.
this needs discussions...&nbsp; instances of applications, etc. See OODB ideas
(Annex 6)</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>Constraints, field constraints, sets are a constrained bag </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>field seperator in DD files (newline too strict?) </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>default values</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>title as expression rather than field </p>

<h4>Decoration</h4>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>if you mention an decorator object (say minerva.student) and
the base object exists, the mentioned object is automatically created. </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>if the base object doesn't exist, it is created first. </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>editing/deleting the base object can be a default right?</p>

<p style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>should based types be returned together with the base ?<span
style="mso-spacerun: yes">&nbsp; </span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>should the base object be somehow notified when a wrapper is
created?</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>Toto: Can it be recursive (i.e. decoration of decoration) ?
With the current definition, I don't think so. Moreover we don't really need
it, and it may be more difficult to handle... </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>Toto: Can an extension be authenticated in a different way
than its base ? (i.e. !authenticate)</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>Toto: (see <a href="#Toto's BL sources after Kosice">annex 3</a>)
Does /best/minerva/student inherit the !admin from /best/student implicitely
(i.e. Helpdesk) ? I would say yes. And in case !admin is defined in
/best/minerva/student ? Should it be the union of admins of /best/student and
/best/minerva/student or only admins of /best/minerva/student ?</p>

<h3>5.2.3 BL (DD parallel)</h3>

<h4>Virtual sets</h4>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>virtual sets with arguments </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>virtual set with arguments == search? </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>virtual set called from another virtual set </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>subsets of (virtual) sets, lists of (virtual) sets, etc.
introduce constraints beautifully</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>virtual set inside the virtual set (see johnny student)</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>static virtual set<span style="mso-spacerun: yes">&nbsp;
</span></p>

<h3>5.2.4 Java API</h3>

<h4>API </h4>

<p class=MsoNormal>- wrapper managers are a more general concept, should move
up from database. Should be metadata.abstr.WrapperManager or so </p>

<p>Abstract level bugs <br>
- if there is a redirection to a type which is redefined on a lower family, the
lower family type should be obtained. Instead, the same family type is obtained
now </p>

<p>Save OQL searches for future use (with different parameters). Maybe keep
them as stored procedures</p>

<p>Database bugs</p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l13 level1 lfo15;tab-stops:list 36.0pt'>at boot time, the
     ptrIndexJava computes the max index. This means that the index values of deleted
     records might be reused, which is bad for replication</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l13 level1 lfo15;tab-stops:list 36.0pt'>- unique id generation
     should use more the power of the SQL engine (now it's java level). CREATE
     SEQUENCE seems to be the standard way. This would also allow remembering
     the index value from one DB boot to another </li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l13 level1 lfo15;tab-stops:list 36.0pt'>generation of creation
     date and last modification date should use TIMESTAMP facilities of the SQL
     engine </li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l13 level1 lfo15;tab-stops:list 36.0pt'>before altering, tables
     should be backed up </li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l13 level1 lfo15;tab-stops:list 36.0pt'>there should be some
     factory method that produces a pointer for each type of database</li>
</ul>

<p class=MsoNormal>OQL</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l15 level1 lfo55;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>if just a label is mentioned in where/select then the
primary key field of that table is used</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l15 level1 lfo55;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>parameters $number</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l15 level1 lfo55;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>NPE bug if no label and no type exists, a
&quot;best&quot; table is mistakenly considered</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l15 level1 lfo55;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>best.Student is considered, should be error... or is
this windows?</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l15 level1 lfo55;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>unmentioned labels should not generate joins</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l15 level1 lfo55;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>multiple objects &amp;expressions in SELECT</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l15 level1 lfo55;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>expressions in select and where are equivalent, so it's
easy to have joins generated there</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l15 level1 lfo55;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>subselects can be implemented, inheriting the labels of
their containing selects. how about the SQLs that don't support subselects?</p>

<p style='margin:0cm;margin-bottom:.0001pt'>- SQL verbosity level</p>

<h3><span style="mso-spacerun: yes">&nbsp;</span>5.2.5 presentation</h3>

<p class=MsoNormal>- make sure that webmaster can't change the access rights of
a page <br>
- support modification in html editors?<span style="mso-spacerun: yes">&nbsp;
</span></p>

<h3>5.2.6 support for development</h3>

<p class=MsoNormal>- not much added for programmers (maybe the new generated
classes best.Student().insert(data)) </p>

<h2>5.3 Long term</h2>

<p class=MsoNormal>Design will continue from here. </p>

<h3>5.3.1 general principles</h3>

<p class=MsoNormal>- data description modification: try to detect and signal
all presentation files and java files that might be affected <br>
- java code in the data-description file, or modification of generated java
file out of the description? <br>
- problems with modification of original data description when default code
generation is used at presentation and data level (and then we let the
programmer/webmaster alter the code). Toto proposes class inheritance for the
generated Java files (you extend the generated file, which stays untouched) <br>
- dealing with data description changes: there will be extensive change
detection (i.e. analysis that takes into account the previous version) and
automatic fix of database tables, database code and presentation code (this
supports automatic preservation of existing data and code) <br>
- types of data structure change: field name change, field type change, field
move in another table, ptr -&gt; set transformation (and back?) <br>
- transactions, table and record locking <br>
- logging. what level? actor? db? <br>
- XML dump and import. DTD <br>
- data travels in XML rather than Hashtables <br>
- allow the server to receive data described by a certain DD via email <br>
- support for backup and versioning at db level <br>
- multilingual support tables, enumerated type string, default values (mb also
presentation layer) <br>
- attachement conversion... what level? presentation? preprocessing and save as
text or html?? <br>
- replication... keep date of last replication. transitivity. how does the data
structure change support affect replication? quite much... replication of data
descriptions between sites <br>
- selective replication: a location could get replicated locally data that is
more related to its people <br>
- support again more DBs (ODBC, msql, etc) <br>
- looks like we can't count on ODBC (LIKE, close-on-exit, different versions...).
on the other hand, it's cool to be able to generate excel views of the data. we
could support it partially. <br>
- remote database??? Old description: to support remote access to a database,
we need: </p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l10 level1 lfo21;tab-stops:list 36.0pt'>some remote wrappers:
     metadata.remotedb.Database, metadata.remotedb.Table, etc. Such wrappers
     will be remote objects and their implementation will keep a reference to
     the normal objects (metadata.db.Database, metadata.db.Table) and call
     their methods when needed</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l10 level1 lfo21;tab-stops:list 36.0pt'>at the abstract level,
     the data has to be serializable</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l10 level1 lfo21;tab-stops:list 36.0pt'>some sites might not have
     the metadata files. The remote tables should be able to pass their
     RecordInfo (which is serializable)</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l10 level1 lfo21;tab-stops:list 36.0pt'>the remote and local Db
     and especially tables should implment some common interface so they can be
     used interchangeably</li>
</ul>

<p class=MsoNormal>- need notification services for insert and update.
different actors may choose to be notified when a new record is inserted or a
certain record is changed. only some such records may be relevant for the
respective actor, so filters may need be installed. access rights problems
exist here (i.e. I may be notified only of records I am allowed to see) <br>
- should pointers be represented as 1 or as 2 SQL longs (java ints) <br>
- save search parameters for future refinement and use&#8230; <br>
- relations with other buzz technologies: Java Beans, WAP </p>

<h3>5.3.2 Data description</h3>

<p class=MsoNormal>- change parser to understand ENCRYPTED. field encryption
not one way <br>
- surely implement on-the-spot types (to replace ptrOne and setComplex) <br>
- omit ptr keyword <br>
- minimum and maximum char length [a..b] <br>
- fieldname: int { default longhish_shit_that_is_not_comfortable_to_repeat, a,
b, c } <br>
- now as default for date <br>
- database-platform independence (compilation up to stored procedures for
higher performance) <br>
<span style="mso-spacerun: yes">&nbsp;</span></p>

<h3>5.3.3 BL (BEST/Business Logic)</h3>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>actors, rights and other constraints, erros if constraints are
not respected, actions (field sets, etc) <br>
who : action (fields) precondition, operations, postcondition </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>actions (understood as method adjustments) are actually
expressions of DB redundancies? Toto: constraints can also be expressed in
actions </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>the meaning of set in argument lists and method results seems
to be different from the meaning of set in sets and virtual sets </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>implicit assigments might be difficult to &quot;read&quot; </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>methods with no actor cannot be called from presentation </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>static methods </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>look again into best/johnny/student (see annex 2) </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>looks like constraints don't have to sit in the method. but
then, how do you ensure that a consistent state is kept? </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>we could say &quot;these 2 op form an atom. don't check
consistency between&quot; </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l14 level1 lfo12;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>how to name decorator base when used in argument lists? </p>

<h3>5.3.4 Java API</h3>

<p class=MsoNormal>- should loose importance but should still exist <br>
- ODMG, OODB ideas</p>

<p class=MsoNormal>- optimize current drivers </p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l8 level1 lfo23;
tab-stops:list 36.0pt'><![if !supportLists]>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>consider also introducing relationships on the database level <br>
- Stored procedures from OQL or CREATE VIEW ? <br>
- evaluation of the select() should be lazy. That is, the SELECT should be
executed only when the hasMoreElements() or nextElement() methods of the
returned enum are called <br>
- there could be a form of Table.insert() that gets a record set (not just a
record) as argument.&nbsp; At SQL level this could&nbsp; generate an INSERT
INTO table SELECT ... if the recordset comes from a search
_in_the_same_database_ </p>

<p style='tab-stops:100.8pt'>DBSV auto generation? </p>

<p>support for existing tables: besides changes of table and field names,
import structure from SQL tables, changes of type, automatic change of #alter
file, facilities of changing types (such as a abstract-level int{..=1 ...=0}
that might actually be a BIT in the existing pre-Makumba DB) </p>

<p class=MsoNormal>it's not clear what will happen with DBSV for an existing
database. A possible solution is to consider it 0 for start (replication is not
on anyway). Before the first replication, a pointer transformer can be executed
on each table, to adjust all pointer fields</p>

<p class=MsoNormal>- redirection property files could be eliminated. each
record handler should have an associated redirector class, that has methods for
each redirected type, and a getFamillyName method. Due to the
getFieldMethods(), each handler family has to have a FieldHandler (i.e. cannot
inherit it). That's wrong (e.g. metadata.sql.odbc and metadata.sql.msql don't
need FieldManagers, they are just empty extensions of
metadata.sql.FieldManager) </p>

<h3>5.3.5 presentation</h3>

<p class=MsoNormal>- XSL is not webmaster-friendly, but XML+XSL= presentation.
Maybe XSL should be generated out of our own presentation language <br>
- we don't want access rights (field level and actor) in the presentation <br>
- database-to-presentation tools that provide default views can be found in: <br>
&nbsp;- IDEs <br>
&nbsp;- database management applications (Access, Oracle 8i) <br>
we should look at those, just the same as we looked at LDML and CFML <br>
BUT none of these are easily accessible to the BEST webmaster and BEST
programmer on the BEST platform and server in the distributed BEST environment.
any of them can change and the system should survive <br>
- need to check enhydra.org http://www.enhydra.org/software/enhydra/index.html <br>
- support modification in html editors <br>
- interfaceLanguage in actor profile. how should it work? <br>
- how should the content in the web pages be localized? <br>
- %localize(lang1, lang2) at pres level <br>
- think of other kinds of presentations: AWT, RTF, XML, WAP, etc <br>
&nbsp; </p>

<h3>5.3.6 support for development</h3>

<p class=MsoNormal>- the moment you have the profile of an action, you can make
a default JSP page that uses it. that page already has access rights on it <br>
- installation: one can automatically install ODBC data sources with
odbcconf.exe <br>
- (html and view source) is an epitome of low installation and initialisation
overhead <br>
- provide for trial and error experimentation <br>
- maybe we need to look a bit of how webmasters work (see the alttabing stuff
in the cfml tutorial) <br>
- pay attention to errors, where should they come up and how. should not be
hidden in the source <br>
- manual, reference manual, functional sample applications (FAQ, support forum,
discussion, to-do, calendar, system db, bug db, see mail about small app ideas)
<br style='mso-special-character:line-break'>
<![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
<![endif]></p>

<p class=MsoNormal>- wizard (sounds too professional) <br>
&nbsp;&nbsp;&nbsp;&nbsp; 1 new metadata file <br>
&nbsp;&nbsp;&nbsp;&nbsp; 2 links to generated presentation and business logic
file <br>
&nbsp;&nbsp;&nbsp;&nbsp; 3 the generated files contain comments with
explanations, suggestions and links to tutorial. the form and comments of
generated code can be adjusted by setting a &quot;level of expertise&quot; <br>
&nbsp;&nbsp;&nbsp;&nbsp; 4 the programmer can edit the default presentation and
business logic <br>
- in the general case, altering should be done by ALTER TABLE, though a
convenience java alter should be provided </p>

<h2>5.4 Administrative to-do</h2>

<p class=MsoNormal>- GPL needs be checked in connection with the antlr OQL
grammmar we use<span style="mso-spacerun: yes">&nbsp; </span></p>

<h1>Acknowledgements</h1>

<p class=MsoNormal>Thanks to BEST for trusting us to come up with something
better than <a href="http://notes.net">Lotus Notes</a>. </p>

<p>Thanks to LBGs in Athens (summer 1999), Chania (autumn 1999), Kosice (summer
2000) and Coimbra (autumn 2000) for their kind hosting support. </p>

<p>Thanks to Yngve for supporting our web-programming ideas (since JML in 1996)
which were not on the research agenda and even employing supplementary
personnel for their development. </p>

<h1>Annexes</h1>

<p class=MsoNormal>Annexes present code snippets that might still be useful for
future development </p>

<h2>Annex:&nbsp;<a name="Makumba_philosophy"></a>Makumba philosophy mail</h2>

<p class=MsoNormal>Date: Thu, 31 Aug 2000 19:05:26 +0200 <br>
From: Cristian Bogdan &lt;cristi@nada.kth.se&gt; </p>

<p>1. common technology: <br>
- our data is fragmented across more technologies. In Notes, data is fragmented
across more databases, because we don't master the technology or simply because
Notes sucks. <br>
- we need total control over the technology or a very good customer service
from whoever provides it <br>
- in order to achieve a low learning (and maintenance, if we do it) treshold,
it has to be simple, i.e. have as few features as possible, the minimum
necessary for us <br>
- it should be portable to any platform our low-budget needs will get us to </p>

<p>2. what is the nature of our applications? <br>
- we have web database applications. <br>
- thus the technology should have ready-made building blocks oriented to fast
generation of such applications <br>
- it should also provide the power for webmasters to adjust the pages to the
lowest detail <br>
- same goes for programmers </p>

<p>3. how do our applications evolve? <br>
- we rarely do ready-made applications. normally we have the minimum necessary
to gather some data. this ensures early availability of a working application,
without much efforts from or pressure on the very-specialised-people (this
corresponds to data description files) <br>
- then (when programmers have time or pressure) we add more and more logic, or
provide ways to enter more data. (this corresponds to business logic level) <br>
- in the meantime, webmasters (when they have time or when they are pressed)
add more and more layout (this corresponds to presentation level) </p>

<p>4. problems with commercial technologies <br>
- they usually contain loads of functions to make for the needs of all big
customers <br>
- ... and to obtain lots of speed for very specialised tasks <br>
- if the technology is commercial we should be able to obtain not only the
technology itself but also its customer support and make sure we can provide
for its maintenance overhead <br>
- commercial would usually tie us to a vendor. BEST breaking relations with the
vendor results in problems. ITC starting to hate the vendor gives other problems
<br>
- commercial might tie to a platform or a set of platforms and porting to a new
platform is independent on us </p>

<p>5. &quot;external&quot; technologies (open source or commercial): <br>
- they are used on more than one place so they can be more reliable <br>
- there is a dedicated maintenance crew <br>
- if we can't find any external, we can get to both these advantages by <br>
i)&nbsp;&nbsp; making a good design <br>
ii)&nbsp; implementing it <br>
iii) open-sourcing and publishing it in good places (i.e. places we looked for
one and didn't find :) <br>
&nbsp; </p>

<h2>Annex: Presentation language as of autumn 1999</h2>

<p class=MsoNormal><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;h1&gt;All
students:&lt;/h1&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>$/best/student</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>[</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
Make a &lt;a href=$newLink&gt;new&lt;/a&gt; student or check this
list:&lt;p&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;
{</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
this is a student:&lt;br&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
name is $(name)[$value] &lt;b&gt;$(surname)[$value]&lt;/b&gt;&lt;br&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;font size=-2&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;a href=$editLink&gt;edit&lt;/a&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;a href=$deleteLink&gt;delete&lt;/a&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;/font&gt;&lt;br&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$(birthdate) [&lt;font size=-2&gt;$value&lt;/font&gt;&lt;p&gt;]</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$$[&lt;b&gt;$description&lt;/b&gt;:$value &lt;br&gt;]</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
}(&lt;br&gt;)</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>]</span></tt> </p>

<h2>Annex:&nbsp;<a name=taglib-proposal></a>First proposal of JSP taglib
presentation. Will go to API Spec</h2>

<p class=MsoNormal><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;%
// give a name to the data to be formatted (there might be better ways to do
this...) %&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;%pageContext.setAttribute(&quot;std1&quot;,
someDictionaryFromTheDatabase);%&gt;</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;%// I want
to format a student for editing, this should open a &lt;form&gt; %&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;mtd:record</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;
structure=&quot;/best/student&quot;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;
data=&quot;std1&quot;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;
submitMethod=&quot;editMyself&quot;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;
afterSubmit=&quot;index.jsp&quot;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;
success=&quot;&lt;font color=green&gt;Changes done!&lt;/font&gt;&quot;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;
failure=&quot;&lt;font color=red&gt;Changes not done:&nbsp;
$error&lt;/font&gt;&quot;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;
&lt;%// I want to format some fields, separated by &lt;br&gt; %&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;
&lt;mtd:fields names=&quot;name,surname,birthdate&quot;
separator=&quot;&lt;br&gt;&quot;&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;%// field description in bold, then :, then value in a form input%&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;b&gt;&lt;mtd:fieldDescription/&gt;&lt;/b&gt;:</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;mtd:fieldEditValue/&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;
&lt;/mtd:fields&gt;</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;
&lt;%// now I format other fields, a bit shorter but with the same result, the
fields are displayed for reading ($value), not as html form fields ($editValue)
%&gt;</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
&lt;mtd:fields names=&quot;military, etc&quot;
pattern=&quot;&lt;b&gt;$descr&lt;/b&gt;:$value&quot;
separator=&quot;&lt;br&gt;&quot; /&gt;</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
&lt;%//format the addresses for reading %&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
&lt;h2&gt;Addresses&lt;/h2&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
&lt;dl&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
&lt;mtd:set name=&quot;languages&quot; separator=&quot;&quot;&gt;</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;%// the address kind as a &lt;dt&gt; %&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;dt&gt;&lt;b&gt;&lt;mtd:fields name=&quot;kind&quot;
pattern=&quot;$value&quot; /&gt;&lt;/b&gt;</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;%// all unmentioned fields, i.e. all but &quot;kind&quot; , as
&lt;dd&gt;%&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;dd&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;mtd:fields names=&quot;$rest&quot; pattern=&quot;$name:$value&quot;
separator=&quot;&lt;br&gt;&quot;/&gt;</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
&lt;/mtd:set&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
&lt;/dl&gt;</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;%// ok,
that's it for this student, this should close the &lt;form&gt; %&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/mtd:record&gt;</span></tt>
<br>
&nbsp; </p>

<h2>Annex:&nbsp;<a name="Toto's_BL_sources_after_Kosice"></a>Toto's BL sources
after Kosice</h2>

<p class=MsoNormal><tt><span style='font-size:10.0pt;font-family:"Courier New"'>-----------/best/auth------------------</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>username : UNIQUE
FIXED char[1..40] ; EN=username</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>password : ENCRYPTED
char[4..40] ; EN=password</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>code1 : int ;
first 5 digits</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>code2 : int ; last
5 digits</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;authenticate&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>username</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>password</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;result&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>result :
/best/auth (</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>result
.username==username</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>result
.password==password</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>)</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/result&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/authenticate&gt;</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;authenticateByCode&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>code1</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>code2</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;result&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>result :
/best/auth (</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>result
.code1==code1</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>result
.code2==code2</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>)</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/result&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/authenticate&gt;</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;new&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>username</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>password</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;body&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/body&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/new&gt;</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;edit&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;actor&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>this</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/actor&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>password</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>password2 :
char[4..40] ; confirm password</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;body&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>password==password2
; wrong password</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/body&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/edit&gt;</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>---------/best/student----------</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>!authenticate=auth</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>!title=auth.username</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>auth : UNIQUE
FIXED NOTNULL /best/auth</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>firstname :
char[1..40] ; EN=firstname</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>lastname :
char[1..40] ; EN=lastname</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>address : set</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>{</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>kind : UNIQUE char
EN={&quot;home addres&quot;,&quot;study-time address&quot;}</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>street : char[80]</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>city : char[80]</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>counbtry :
/general/country</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>}</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;new&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;actor&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>anonymous</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/actor&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>firstname</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>lastname</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>password</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>password2 :
char[4..40] ; confirm password</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;body&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>password==password2
; wrong password</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>auth.new(firstname+&quot;
&quot;+lastname,password)</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/body&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/new&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>-------------/best/minerva/student-------------</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>!base=/best/student</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>!admin=set
/best/minerva/admin</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>restriction=set
/best/minerva/company ; companies not allowed to see my data</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;edit&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;actor&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>this</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/actor&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>restriction</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>base</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;body&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/body&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/edit&gt;</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;view&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;actor&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>set
/best/minerva/company</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/actor&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>base</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;body&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>!restriction.contains(actor)</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/body&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/view&gt;</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>-------------/best/minerva/admin-------------</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>!authenticate=auth</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>auth : UNIQUE
FIXED NOTNULL /best/auth</span></tt> <br>
&nbsp; </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>-------------/best/minerva/company-----------</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>!authenticate=set
/best/minerva/company.representative (authenticate.company==this)</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>name : UNIQUE
FIXED char[1..40]</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;search&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;actor&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>this</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/actor&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>languages : set
/general/language</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>interests : set
/general/interest</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>universities : set
/general/university</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;body&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>actor.paid() ; You
are not allowed to search for student : pay the entrance fee first...</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/body&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;result&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>result : set /best/minerva/student
(</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>!(restriction.contains(this)</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>result.student.interest.intersection(interests).size&gt;0</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>result.student.studies.university.inter(universities).size&gt;0</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>)</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/result&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/search&gt;</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>----------------/best/minerva/company.representative-------------</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>!authenticate=auth</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>!admin=set
/best/minerva/admin</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>auth : UNIQUE
FIXED NOTNULL /best/auth</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>company : FIXED
NOTNULL /best/minerva/company</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>----------------/best/johnny/admin-------------------------------</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>!authenticate=auth</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>auth : UNIQUE FIXED
NOTNULL /best/auth</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>---------------/best/johnny/student-----------------------------</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>!admin=/best/johnny/admin</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>!base=/best/student</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>season : set
/best/johnny/season (</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp; applic :
set /best/johnny/application (</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;
applic.student==this AND applic.season==season</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp; )</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;
applic.size()&gt;0</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>)</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>applications(season
: /best/johnny/season) : set /best/student/application (</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;
applic.student==this AND applic.season==season</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>)</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>-------------------/best/johnny/season----------------------</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>activities : set
/best/johnny/activity (activities.season==this)</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>announcementDL :
date</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>applicationDL :
date</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>rankingDL : date</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>optimise()</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>----------------/best/johnny/activity----------------------</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>applications : set
/best/johnny/application (applications.activity==this)</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>ranking : list
/best/johnny/application</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>rankingPlaces :
int ; number of accepted people</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>season : FIXED
NOTNULL /best/johnny/season</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>----------------/best/johnny/application------------------</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>activity : FIXED
NOTNULL /best/johnny/activity</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>student : FIXED NOTNULL
/best/johnny/student</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>extraAccepted :
date</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>season :
/best/johnny/season (season==activity.season)</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;new&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;actor&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>set
/best/johnny/student</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/actor&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>activity</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/arguments&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;body&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>season.applicationDL.after.now
; Too early to apply</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>season.rankingDL.before.now
; Too late to apply</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>student=actor</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>student.applications.append(this)</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/body&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;/new&gt;</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>---------------------minerva.student.register.jsp------------</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;metadata:new
type=&quot;/best/student&quot; response=&quot;registerResponse.jsp&quot;&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;! register
creates the student ; it has a response form...&gt;</span></tt> </p>

<p><tt><span lang=SV style='font-size:10.0pt;font-family:"Courier New";
mso-ansi-language:SV'>--------------------minerva.student.login.jsp-----------------</span></tt><span
lang=SV style='mso-ansi-language:SV'> <br>
</span><tt><span lang=SV style='font-size:10.0pt;font-family:"Courier New";
mso-ansi-language:SV'>&lt;metadata:login
type=&quot;best/minerva/student&quot;&gt;</span></tt><span lang=SV
style='mso-ansi-language:SV'> <o:p></o:p></span></p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;! we could
have different kinds of login :</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;metadata:login
type=&quot;/best/johnny/student&quot; type=&quot;http&quot;
method=&quot;authenticateByCode&quot;&gt;</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>--------------------minerva.student.index.jsp----------------</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;metadata:actor
type=&quot;/best/minerva/student&quot; login=&quot;login.jsp&quot;&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;! by default,
login=&quot;login.jsp&quot;&gt;</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;! if the
/best/student exists but not /best/minerva/student, there should be a
&quot;base-extension&quot; notification (specified in login.jsp)&gt;</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;metadata:view&gt;</span></tt>
</p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>------------------minerva.company.student.jsp--------------</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;metadata:actor
type=&quot;/best/minerva/company&quot;&gt;</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;metadata:retrieveObject
type=&quot;/best/minerva/student&quot; name=&quot;student&quot;&gt;</span></tt>
<br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;! retrieve the
student from the http arguments&gt;</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;metadata:view
object=&quot;student&quot;&gt;</span></tt> <br>
&nbsp; </p>

<h2>Annex 4. Thoughts about the generated stuff and its dynamix (Coimbra)</h2>

<p class=MsoNormal>DataDescription generates and compiles JavaFile <br>
ModifiedJavaFile extends JavaFile <br>
Presentation calls ModifiedJavaFile </p>

<p>DataDescription generates Presentation </p>

<p>GeneratedPresentation is insert, edit, delete, view-all pages </p>

<p>GeneratedPresentation is generic -&gt; the only reference to DataDescription
is the name </p>

<p>OR: GeneratedPresentation is not generic, it refers DataDescription fields,
especially title, pointer and set fields. it is fully commented </p>

<p>Problems: <br>
1. what if somebody wants to use another structure than IEDVA? what if somebody
wants different filenames? </p>

<p>URL is part of the presentation so it can be changed creative <br>
two different pages might do essentially the same IEDVA operation </p>

<p>immediate answers <br>
- tutorial and scrap areas <br>
- default area (if stuff is to be changed it is copied in other areas) </p>

<p>2. What happens to the presentation when DD changes? <br>
professional solution: semantic analysis of Makumba tags in Presentation </p>

<p>low profile solution: identify the pages that refer to the DD and list them <br>
&nbsp; </p>

<h2>Annex 5. Thoughts about how to present suggestions to novices in generated
code</h2>

<p class=MsoNormal><tt><span style='font-size:10.0pt;font-family:"Courier New"'>/*
name is the title fields, so we format it differently */</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;b&gt;
&lt;mtd:field name=&quot;name&quot;&gt;&lt;/b&gt;</span></tt> </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>/* we put the
title first, it is the field &quot;name&quot;, the first non-pointer field in
the data description, be aware that if you change the DD, you might change the
tilte field*/</span></tt> <br>
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>&lt;b&gt;
&lt;mtd:title&gt; &lt;/b&gt;</span></tt> </p>

<p>novice-expert modes for comment level </p>

<p><tt><span style='font-size:10.0pt;font-family:"Courier New"'>/* we could
have done all this by saying &lt;mtd:record&gt;. this would use all the above
defaults */</span></tt> <br>
&nbsp; </p>

<h2>Annex 6.&nbsp;<a name="OODB_proposal"></a>OODB proposal (cristi, Feb 2000)</h2>

<p class=MsoNormal>needs review </p>

<h3>Object DB update</h3>

<p class=MsoNormal>Unlike classical relational DB operations (based on
insertion, update and deletion into tables), object&nbsp; repositories are
based on writing down in the database all changes that occur to the fields of
the objects involved in a transaction. Instead of thinking in terms of tables,
the programmer can then only consider the objects involved, and the
transactions necessary for their state to be consistent. </p>

<p>Metadata already has concepts from object databases, including pointers,
sets, etc, and already defines a database scheme, which makes it easy for it to
support a more object-like update mechanism. </p>

<p>Metadata can actually be brought closer to Object database management and <b><a
href="http://www.odmg.org">ODMG standards</a></b> by: </p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l7 level1 lfo26;tab-stops:list 36.0pt'>supporting inheritance
     (easy, not urgent)</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l7 level1 lfo26;tab-stops:list 36.0pt'>supporting method
     declaration (and mapping it to ODL) (difficult, not urgent)</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l7 level1 lfo26;tab-stops:list 36.0pt'>specifying how the
     metadata definition maps to ODL (object definition language) (not urgent)</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l7 level1 lfo26;tab-stops:list 36.0pt'>using ODMG's <b>OQL</b> or
     a mapping of it to specify queries (quite urgent)</li>
</ul>

<p class=MsoNormal>If APIs look like below, metadata/db can be implemented
using any ODMG (or later JDO) implementation (e.g.<b> </b>Sun's<b> <a
href="http://java.sun.com/beans/">Java Blend</a></b> already implementsODMG, we
could try to see if we can't implement metadata/db with it already, there is a
30 day trial). </p>

<p>To get faster access to fields, classes can be generated automatically out
of the metadata files. In order not to need JVM changes or class file
postprocession, field changes/reads can be accomodated with methods that follow
the <b><a href="http://java.sun.com/beans/">Java Beans</a></b> property name
patterns: setXXX(Object) and Object getXXX(), where XXX is the field name. This
patten can co-exist with the present object-Dictionary approach. </p>

<h3>Proposal</h3>

<p class=MsoNormal>All records are represented in memory as DBObjects (can
extend Dictionary). To pass a pointer to an object, one just has to pass that
DBObject. Such DBObjects can be registered into the Database (which will lead
to an INSERT), and some of them can be given special names. Queries made in
only one table return collections of DBObjects, and pointer and set fields will
come as DBObjects. </p>

<p>DBObject methods for reading : </p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l6 level1 lfo29;tab-stops:list 36.0pt'>Object Object get(field)</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l6 level1 lfo29;tab-stops:list 36.0pt'>Dictionary get() returns a
     clone, without the special fields</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l6 level1 lfo29;tab-stops:list 36.0pt'>Timestamp getLastModificationDate()</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l6 level1 lfo29;tab-stops:list 36.0pt'>Timestamp
     getCreationDate()</li>
</ul>

<p class=MsoNormal>Fields are returned as: </p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l3 level1 lfo32;tab-stops:list 36.0pt'>their normal data for int,
     char, text, date</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l3 level1 lfo32;tab-stops:list 36.0pt'>other DBObjects for
     pointers</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l3 level1 lfo32;tab-stops:list 36.0pt'>DBSets (Collection?) for
     sets, with specific operations for the respective type of set</li>
</ul>

<p class=MsoNormal>Modifications (incl insertion) and destructions are
performed inside transactions. Every thread is part of at most one transaction.
A thread can join an already existing transaction. If a write operation is
invoked, but no transaction is associated with the thread, a transaction
consisting of only that operation will be performed. </p>

<p>Write operations will cause one INSERT or UPDATE for each affected object
inside a transaction. INSERT is performed on an object with no pointer (and
leads to setting that pointer), and UPDATE otherwise. </p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l16 level1 lfo35;tab-stops:list 36.0pt'>put(field, value)</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l16 level1 lfo35;tab-stops:list 36.0pt'>put(Dictionary) updates
     only the mentioned fields</li>
</ul>

<p class=MsoNormal>Object destruction: DBObject has a delete() method. All
ptrOnes, setInt, setChar, setComplex will be deleted (in the same transaction).
</p>

<p>A transaction can lock certain DBObjects for reading or writing. A
transaction can be cancelled (abort, nothing is written to the database), or
declared finished (commit, all changes are written). Also, the transaction can
finish and re-start immediately, without releasing any locks. </p>

<h3>Implementation considerations</h3>

<p class=MsoNormal>At JDBC level, the Database will employ one Connection per
transaction. Connections can of course be recycled. </p>

<p>The database has a cache, having the composite key [RecordInfo, ptr]. The
cache contains data from the respective table (eventually in an array Object[]
for each record). </p>

<p>The DBObject contains just a reference to the cache entry where its data
stays. When the DBObject goes out of scope, the cache is notified that the
respective entry has one less usage. A cache cleaner passes regularly and
deletes cache entries which are not used. </p>

<p>To achieve this cache cleaning, based on the DBObjects going out of scope,
one has to build a DBObject instance whenever a query result is returned, or
pointer de-reference is made. That means that two DBObjects can represent the
same thing, so changing a DBObject might affect another DBObject. To test if
two DBObjects represent the same record in the database we can have a method
such as </p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l0 level1 lfo38;tab-stops:list 36.0pt'>boolean
     isIndenticalWith(DBObject)</li>
</ul>

<p class=MsoNormal>To avoid this, one has to use <b><a
href="http://java.sun.com/java2/">Java 2</a></b> (JDK 1.2) weak references.
Using java 2 will also bring more standardization with the Collection classes.
But for that, we need to upgrade to <b>Java Web Server 2.0</b> (which might
solve other problems we have now, such as page recompilation), currently Johnny
and Minerva use Java Web Server 1.1. </p>

<p>Locking can be implemented at Java level or at database level. </p>

<p>For many of the classes (Database, Transaction) we could directly implement
the ODMG interfaces. This will create a ODMG-like &quot;metadata binding&quot;,
which will give a standard value to metadata. </p>

<p><b>OODB</b> <b>discussion </b>(Cristi and Stefan in Technico). This
discussion probably came from the data-code relationship... In normal DBs, all
objects of a type are accessible by a simple select. In OOP, objects are
accessed thru references. This looks strange. Proposal to implement data
inheritance with 2 extra columns (one table name and one pointer) in each table
that points to a record containing the extension columns in separate extension
tables. For example, a committee might request an extension to their archive,
which in principle will behave like all other archives. This leads to thoughts
about application inheritance, etc. In an OODB approach, viewing a table
actually would view one single virtual set. <br>
&nbsp; </p>

<h2>Annex 7.&nbsp;<a name="JDBC_type_coding"></a>JDBC type coding</h2>

<p class=MsoNormal>useful for development <br>
&nbsp; <o:p></o:p></p>

<table border=1 cellspacing=3 cellpadding=0 width="100%" style='width:100.0%;
 mso-cellspacing:1.5pt;mso-padding-alt:0cm 0cm 0cm 0cm' cols=2>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>BIGINT&nbsp; <br>
  BINARY&nbsp; <br>
  BIT&nbsp; <br>
  CHAR&nbsp; <br>
  DATE&nbsp; <br>
  DECIMAL&nbsp; <br>
  DOUBLE&nbsp; <br>
  FLOAT&nbsp; <br>
  INTEGER&nbsp; <br>
  LONGVARBINARY&nbsp; <br>
  LONGVARCHAR&nbsp; <br>
  NULL&nbsp; <br>
  NUMERIC&nbsp; <br>
  OTHER&nbsp; <br>
  REAL&nbsp; <br>
  SMALLINT&nbsp; <br>
  TIME&nbsp; <br>
  TIMESTAMP&nbsp; <br>
  TINYINT&nbsp; <br>
  VARBINARY&nbsp; <br>
  VARCHAR&nbsp;</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>-5&nbsp; <br>
  -2&nbsp; <br>
  -7&nbsp; <br>
  1&nbsp; <br>
  91&nbsp; <br>
  3&nbsp; <br>
  8&nbsp; <br>
  6&nbsp; <br>
  4&nbsp; <br>
  -4&nbsp; <br>
  -1&nbsp; <br>
  0&nbsp; <br>
  2&nbsp; <br>
  1111&nbsp; <br>
  7&nbsp; <br>
  5&nbsp; <br>
  92&nbsp; <br>
  93&nbsp; <br>
  -6&nbsp; <br>
  -3&nbsp; <br>
  12</p>
  </td>
 </tr>
</table>

<h2>Annex 10: initial presentation layer</h2>

<p class=MsoNormal style='margin-left:36.0pt'>&nbsp; <o:p></o:p></p>

<table border=1 cellspacing=3 cellpadding=0 width="100%" style='width:100.0%;
 mso-cellspacing:1.5pt;margin-left:36.0pt;mso-padding-alt:0cm 0cm 0cm 0cm'
 cols=2 NOSAVE>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>constructor RecordFormatter(RecordInfo)&nbsp;</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>initializes the formatter from a given metadata</p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>void writeInPage(Writer stream, Dictionary data)&nbsp;</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>writes a view of the given data to the given stream</p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>void writeInForm(Writer stream, Dictionary data)&nbsp;</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>writes an edit form of the given data to the given stream</p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>void writeInFormNew(Writer stream)</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>writes an empty form (with default values) to the given
  stream</p>
  </td>
 </tr>
 <tr NOSAVE>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt' NOSAVE>
  <p class=MsoNormal>Dictionary readFromQueryString(Dictionary query)&nbsp;</p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>reads the field from the http query&nbsp; <br>
  The query object can always be constructed as a Dic from any query string
  (even with multiple values per field)</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:36.0pt'>adjustment methods (less urgent):
</p>

<ul type=disc>
 <ul type=circle>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l9 level2 lfo41;tab-stops:list 72.0pt'>formatting:
      adjustField(fieldname, &quot;&lt;b&gt;$description:&lt;/b&gt;
      $value&quot;)&nbsp; etc</li>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l9 level2 lfo41;tab-stops:list 72.0pt'>field order change: moveBefore(field1,
      field2), etc</li>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l9 level2 lfo41;tab-stops:list 72.0pt'>field
      hiding/keeping: hideField(fieldname)</li>
 </ul>
</ul>

<p class=MsoNormal style='margin-left:36.0pt'>later: <o:p></o:p></p>

<table border=1 cellspacing=3 cellpadding=0 width="100%" style='width:100.0%;
 mso-cellspacing:1.5pt;margin-left:36.0pt;mso-padding-alt:0cm 0cm 0cm 0cm'
 cols=2 NOSAVE>
 <tr NOSAVE>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt' NOSAVE>
  <p class=MsoNormal>void writeInFormSearch(Writer stream)&nbsp;</p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>writes a search form&nbsp; <br>
  Still to be thought out (depending on how searches will be represented
  internally)</p>
  </td>
 </tr>
 <tr NOSAVE>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt' NOSAVE>
  <p class=MsoNormal>void writeInFormFormat(Writer stream)</p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>opens the formatter for editing to a non-tech user, as a
  edit form</p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>void writeInPageFormat(Writer stream)</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>pens the formatter for editing to a non-tech user, as a
  page</p>
  </td>
 </tr>
</table>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l9 level1 lfo41;tab-stops:list 36.0pt'>according to the RecordHandler
     conventions, the <b>writeIn*</b> methods can be implemented as <b>RecordHandler.writeAll</b>
     (which RecordFormater will inherit) if each field type is implemented as a
     metadata.html.FieldFormatter (having more or less the same methods as
     above). Thus, there will be intFormatter, intEnumFormatter, charFormatter,
     charEnumFormatter, dateFormatter, etc</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l9 level1 lfo41;tab-stops:list 36.0pt'>we should think of cool
     demos</li>
</ul>

<h3>issues and dilemmas</h3>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l17 level1 lfo45;tab-stops:list 36.0pt'>fast development: besides
     having html.RecordFormatter, one should be able to get html very fast once
     metadata files URLs links like</li>
</ul>

<p class=MsoNormal style='margin-left:72.0pt'>/best/student/$edit <br>
/best/student/$view <br>
/best/student/$new <br>
/best/student/$list</p>

<p class=MsoNormal style='margin-left:36.0pt'>are a tempting way to go. Then
one just has to pass a pointer (for $view and $edit) to get results, which
should be the defaul for $list views. A generic servlet interpreting this
(reading the path to the metadata from its url path, reading the pointer and
the form data from the query string, etc) can handle all cases needed,
generating automatically some jhtml/jsp source for each case, which will then be
adjusted by the webmaster. </p>

<p style='margin-left:36.0pt'>Problems: </p>

<ul type=disc>
 <ul type=circle>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l17 level2 lfo45;tab-stops:list 72.0pt'>one has to provide
      several such addresses for one metadata, one for each actor or task.
      Probably something like</li>
 </ul>
</ul>

<p class=MsoNormal style='margin-left:108.0pt'>/organiser$/best/student/$view <br>
then organiser could be a search in the auth and student tables that would give
a non-empty result if the respective is an organiser</p>

<ul type=disc>
 <ul type=circle>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l17 level2 lfo45;tab-stops:list 72.0pt'>how does a
      non-technical user adjust the formatter (change field order, hide fields,
      etc)?</li>
  <ul type=square>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l17 level3 lfo45;tab-stops:list 108.0pt'>a easy-to-do way,
       but quite technical, is a <b>fo<a name=format></a>rmat()</b> method in the
       servlet (jhtml, jsp, etc), that would be called once, at servlet
       initialization. That method would call various methods of the default
       formatter (for the respective RecordInfo) to adjust it. Then the servlet
       service code (or the jsp/jhtml page) will just call</li>
  </ul>
 </ul>
</ul>

<p class=MsoNormal style='margin-left:144.0pt'><span lang=SV style='mso-ansi-language:
SV'>getFormatter().format(getData())<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:108.0pt'>where getFormatter returns the
formatter adjusted in the format() method, and format() returns the data
identified by the pointer (for $edit and $view) or the bunch of data selected
by $list. </p>

<ul type=disc>
 <ul type=circle>
  <ul type=square>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l17 level3 lfo45;tab-stops:list 108.0pt'>a not that easy
       to-do, but very user friendly is a html form that would open for URLs
       like</li>
  </ul>
 </ul>
</ul>

<p class=MsoNormal style='margin-left:144.0pt'>/best/student/$view$format</p>

<ul type=disc>
 <ul type=circle>
  <ul type=square>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l17 level3 lfo45;tab-stops:list 108.0pt'>a more
       webmaster-like technique: we can generate jhtml/jsp containing
       formatting calls and let the site owner format it. That has some
       problems:</li>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l17 level3 lfo45;tab-stops:list 108.0pt'>how/where to format
       new fields?</li>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l17 level3 lfo45;tab-stops:list 108.0pt'>how to format
       fields uniformly?</li>
  </ul>
 </ul>
</ul>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l17 level1 lfo50;tab-stops:list 36.0pt'>search forms can of
     course be generated from the metadata info. In the structure above, one
     would have /best/student/$search</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l17 level1 lfo50;tab-stops:list 36.0pt'>passing pointers via CGI:
     sv=xx&amp;uid=yy can be too obvious, a pointer registry can exist, where
     all Records are registered by hashCode, then the hashCode is passed and
     used as a password to get the Record back</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l17 level1 lfo50;tab-stops:list 36.0pt'>in general, one can think
     about encoding the URL-passed data, at a later stage</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l17 level1 lfo50;tab-stops:list 36.0pt'>logging at http level?</li>
</ul>

<h2>Annex:&nbsp;<a name="JSP-Parallel_java"></a>JSP-Parallel java code</h2>

<p class=MsoNormal>This proposal was made for a fast implementation process and
to give a well-known place for the java code. </p>

<p>Every JSP page that uses the Makumba taglibs will create a parallel Java
class per operation invoked. The first page execution will call default implementations
of the methods in the class and may announce the developer where to go to edit
the code. The &quot;pointer&quot; to the code can stay in the generated HTML as
a comment. It is intended that when the parallel code changes, the JSP is touched
and re-compiled automatically. The JSP will call dedicated callbacks in the
parallel class at different moments in the execution as illustrated below.
References to the page and to the &quot;brother classes&quot; generated by the
page will be available. </p>

<p>For example, a typical edit form will invoke the operations
&quot;writeInForm&quot; and &quot;edit&quot; (since there are no response
pages) So it will generate two parallel classes. Still, in such a case
(presentation-response), one might have a single class dealing with the whole
transaction, since the two are logically linked. </p>

<p>Still need to consider <br>
- the webmaster-security of the solution <br>
- the mechanisms by which the objects from the parallel class are created and
referenced <br>
- our last dilemma in Coimbra: should the access rights and field access rights
be expressed in JSP-parallel or in DD-parallel (one java class per Data
description, i.e. Makumba file) java code? </p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l1 level1 lfo54;tab-stops:list 36.0pt'>The argument for the
     DD-parallel is that access rights should be changed in only one place. One
     counter-argument is that if the access rights changes, the JSP pages that
     count on them have to be changed anyway</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l1 level1 lfo54;tab-stops:list 36.0pt'>The JSP-parallel pro is
     that they seem more practical. Only one (rather than two) set of java
     classes is needed, which makes clear where the application code is. On the
     other hand, it's not clear what happens with doing the operation on a
     sub-table (set or pointer). One way to do it is to generate a
     parallel-class for that operation as well.</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l1 level1 lfo54;tab-stops:list 36.0pt'>the DD-parallel can be
     replaced by a more powerful DD grammar</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l1 level1 lfo54;tab-stops:list 36.0pt'>instead of changing the
     access rights as such, one can change the definition of the actor who has
     the respective rights.</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l1 level1 lfo54;tab-stops:list 36.0pt'>We should probably play
     with both and see what's more practical for BEST and Karamba purposes. We
     should define the Karamba applications (the present state and what we
     suspect for the new state) and see what we need.</li>
</ul>

<p class=MsoNormal>- the clear definition of the methods. Below are some
guidlines, but the final interface will come out per operation (view, view in
form, edit, delete, insert) after some practice. <br>
&nbsp; <o:p></o:p></p>

<table border=1 cellspacing=3 cellpadding=0 width="100%" style='width:100.0%;
 mso-cellspacing:1.5pt;mso-padding-alt:0cm 0cm 0cm 0cm' cols=3>
 <tr>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>method signature</p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>semantics</p>
  </td>
  <td valign=top style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>default implementation</p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>Object getInitialState()</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>returns the initial state of an operation implementation.
  the state info will be passed to all methods of the template method</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>returns null</p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>boolean isAuthorised(Pointer auth, Dictionary args, Object
  state)</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>gets a pointer in an auth table detected by some http
  way&nbsp; <br>
  &nbsp;returns whether the authenticated principal can be authorized as an
  actor that can do the respective operation on the data</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>if you are in the JSP root, return true&nbsp; <br>
  otherwise try to authenticate an actor with the type indicated by the first
  directory. how that dir indicates the type is left open for now</p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>Object getData(Pointer auth, Dictionary args, Object
  state)</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>gets the data to view, view in form (pre-edit,
  pre-insert), insert, or edit&nbsp; <br>
  This is the typical place to do an <b>OQL search</b>. Having it here will
  also allow for ordering and other presentation-related issues.</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>one http arg is a pointer, data is retrieved from the main
  table using it</p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>boolean beforeExcecute(Object state)</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>Executes code before the operation (insert, delete, edit)
  is executed. Returns whether the operation should be executed or not.</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>empty</p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>void afterExecute(Object state)</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>similar to above</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>empty</p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>boolean needTransaction(Object state)</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>tells whether the operation and the rest should be wrapped
  in a transaction</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>returns false</p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>boolean canView( String field)&nbsp; <br>
  boolean canEdit(String field)</p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>field access level. <b>not&nbsp; clear if it will be here or
  not.</b></p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal>returns true</p>
  </td>
 </tr>
</table>

<h2>Annex: Former explanation of folder structure... Should go to some tutorial</h2>

<pre>general/general_table1 (ex all countries, all languages)</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /general_table2 ...</pre><pre>organization1/major_table1&nbsp; (ex best/student)</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /major_table2 ...</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /application1/table1 ...&nbsp; (ex best/minerva/company)</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /table2 ...</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /application2/table1 ...</pre><pre>organization2/major_table1 ...</pre><pre>common_application/table1 ...&nbsp; (ex eventcalendar/event)</pre>

<h2 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Annex:
BEST Data Definitions hierarchy</h2>

<p class=MsoNormal>This is what the Stockholm meeting had in mind for BEST
hierarchy. Object orientation and decoration were assumed</p>

<pre style='tab-stops:36.0pt'><span style='mso-bidi-font-size:12.0pt;
mso-fareast-font-family:"Times New Roman"'>Auth<o:p></o:p></span></pre>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>Student<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.Student decorates Student<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>Group<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.Lbg extends Group<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.Committee extends Group<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.vivaldi.Student decorates Student<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.vivaldi.Season<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.vivaldi.Activity<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.vivaldi.Application<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.minerva.Student decorates Student<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>Company <o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.minerva.Company decorates Company<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.minerva.CompanyRepresentative <o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.karamba.Document<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.karamba.Message<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.karamba.Repository<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.karamba.OfficialArchive extends Repository<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.karamba.CommitteeArchive extends Repository<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>best.karamba.TigroBlabla extends CommitteeArchive<o:p></o:p></span></p>


<div class=MsoNormal align=center style='text-align:center;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>

<hr size=3 width="100%" align=center>

</div>


<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='font-size:10.0pt'>$Header:
/usr/local/cvsroot/metadata/doc/makumba.html,v 1.4 2000/11/15 23:10:51 stefan
Exp $</span> </p>

</div>

</body>

</html>
