<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
  <meta name="Author" content="Cristian Bogdan">
  <title>eclipse-howto</title>
  <link rel="stylesheet" type="text/css" media="all" href="../main.css">
  <script type="text/javascript" src="../main.js"></script>
</head>
<body>
<script type="text/javascript">
   makeNavBar("../");
</script>
<h1>Makumba Eclipse howto</h1>
<h3>1) Download</h3>
<ul>
  <li>Java: you need the Java Development Kit (JDK) 5.0<br>
    <a class="moz-txt-link-freetext"
 href="http://java.sun.com/j2se/1.5.0/download.jsp">http://java.sun.com/j2se/1.5.0/download.jsp</a><br>
+ install it</li>
  <li><a class="moz-txt-link-abbreviated" href="http://www.eclipse.org/">www.eclipse.org<br>
    </a>downloads -&gt; look for the version 3.1 (look link in the
right column) <br>
+ unpack the zip file to the root of the hard disk, e.g. c:\eclipse<br>
    <span style="font-style: italic;">Do not </span>put Eclipse in a
dir whose name contains spaces!</li>
  <li>&nbsp;If you don't already have it installed, install MySql.
(preferably 4.1, to be found at<br>
    <a class="moz-txt-link-freetext"
 href="http://dev.mysql.com/downloads/mysql/4.1.html">http://dev.mysql.com/downloads/mysql/4.1.html</a>,
just follow the instructions)</li>
  <li>Create a "makumba" Mysql database, to be used for tests.<br>
  </li>
</ul>
<h3>2) SourceForge access to makumba CVS</h3>
<ul>
  <li>if you don't have a sourceforge account, create one at <a
 href="http://www.sf.net">www.sf.net</a></li>
  <li>to be added to the makumba project, send e-mail to <a
 class="moz-txt-link-abbreviated"
 href="mailto:makumba-comm-build&#64;lists.sourceforge.net">makumba-comm-build&#64;lists.sourceforge.net</a>&nbsp;
and specify your sourceforge username</li>
  <li>to activate your CVS access, use a secure shell (like SSH or
putty) <br>
  </li>
  <ul>
    <li>ssh cvs.sf.net <br>
    </li>
    <li>you will be automatically logged out, that's normal.<br>
    </li>
  </ul>
</ul>
<h3>3) Checkout Makumba in Eclipse</h3>
<ul>
  <li> it will ask where do you want your workspace: this will contain
the makumba sources</li>
  <li>you will get an welcome screen, just close it</li>
  <li>File -&gt; Import -&gt; Check out project from CVS</li>
  <ul>
    <li>Host: cvs.sf.net</li>
    <li>Repository path: /cvsroot/makumba</li>
    <li>username + password&nbsp; from your sourceforge account</li>
    <li>Connection type: extssh</li>
    <li>use default port</li>
    <li>click Next</li>
    <li>User specified module name: makumba</li>
    <li>click Finish</li>
  </ul>
  <li>After the checkout ends, the project will be compiled
automatically<br>
  </li>
  <li>The makumba project will be shown with a red tick, ("errors").
The cause for the errors is that, during first compilation, makumba
downloads the JARs needed for the sources to compile. Eclipse does not
know about these JARs. To fix that:<br>
  </li>
  <ul>
    <li>click on the project name 'makumba' and press F5</li>
  </ul>
  <ul>
    <li>if that fails,&nbsp; go to Project/Properties/Java Build Path,
and remove and re-add manually each JAR<br>
    </li>
  </ul>
</ul>
<h3>4) Run the makumba tests</h3>
<ul>
  <li>chose Run/Run</li>
  <li>You will see there the makumba tests. Start with mdd, continue
with dbtable</li>
  <li>Before running the formatters tests, make sure you run tomcat-mak
    <br>
  </li>
  <ul>
    <li>note that accessing formatter tests directly from a browser is
not a good idea because they insert data in the db just before they
start and then they delete it, so most of them will not have any data
to run with<br>
    </li>
  </ul>
</ul>
<h3>5) Hack</h3>
<ul>
  <li>Your code can use MDDs from
classes/test. They are already in the classpath, just use test.Person,
test.Language, etc.<br>
  </li>
  <li>If you do just database/MDD code, simply start the automatic
tests (mdd, dbtable) in Debug mode (Run/Debug, or click on the bug)<br>
  </li>
  <li>If you do taglib stuff (list, value, form, input, etc), put your
JSP test cases in webapps/tests.<br>
  </li>
  <li>Start tomcat-mak in debug mode (Run/Debug/tomcat-mak) and you're
ready to catch breakpoints</li>
  <li>If you want to hack stuff that will need regression tests, there
may be a branch that is better to use for that. For example now there
is the Antwerpen branch. <br>
  </li>
  <ul>
    <li>&nbsp;In Eclipse 3.1 you can switch just some directories to
another branch, by pressing right-click on the dir, chose Team/Switch
to Another Branch or Version</li>
    <li>The following directories will typically need to switch to the
branch:</li>
    <ul>
      <li>classes, but not classes/test (so switch classes to
Antwerpen, and then switch test back to HEAD)<br>
      </li>
    </ul>
    <ul>
      <li>servlet-context (if you change something in makumba.tld)</li>
    </ul>
    <li>The following directories should most of the time stay in the
HEAD (main) branch</li>
    <ul>
      <li>launchers</li>
      <li>classes/test</li>
      <li>tomcat</li>
      <li>webapps/tests</li>
      <li>.classpath, .project, build.xml, and all other files in the
root<br>
      </li>
      <li>doc</li>
    </ul>
  </ul>
</ul>
<script type="text/javascript">
   makeFooter("$Id$");
</script>
</body>
</html>
